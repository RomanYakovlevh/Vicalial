(function(){"use strict";var e={8098:function(e,t,n){var a=n(9242),o=n(3396);function s(e,t){const n=(0,o.up)("router-link"),a=(0,o.up)("router-view");return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o._)("nav",null,[(0,o.Wm)(n,{to:"/"},{default:(0,o.w5)((()=>[(0,o.Uk)("Calculator")])),_:1}),(0,o.Uk)(" | "),(0,o.Wm)(n,{to:"/styleguide"},{default:(0,o.w5)((()=>[(0,o.Uk)("StyleGuide")])),_:1}),(0,o.Uk)(" | "),(0,o.Wm)(n,{to:"/dashboard"},{default:(0,o.w5)((()=>[(0,o.Uk)("DataVisualisation")])),_:1})]),(0,o.Wm)(a)],64)}var r=n(89);const i={},l=(0,r.Z)(i,[["render",s]]);var c=l,d=n(2483);const u={key:0,style:{"font-size":"3em"}},m={key:1},p=(0,o._)("h2",{class:"text-lg mb-4 grey--text",color:"grey"},"Welcome to Visual Calculator for Linear Algebra and Operational Analysis!",-1),h=(0,o._)("p",{class:"mb-4 grey--text"},"As a first step, you might want to...",-1),f={class:"statement-components-list"};function w(e,t,n,a,s,r){const i=(0,o.up)("v-btn"),l=(0,o.up)("v-col"),c=(0,o.up)("v-row"),d=(0,o.up)("AddDataWindow"),w=(0,o.up)("v-dialog"),g=(0,o.up)("v-container"),v=(0,o.up)("StatementComponent2"),x=(0,o.up)("PlotComponent"),y=(0,o.up)("ControlsBarComponent"),k=(0,o.up)("UniversalSnackBarComponentVue");return(0,o.wg)(),(0,o.iD)(o.HY,null,[r.hasPyodideLoaded?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)("div",u,"Loading...")),r.hasPyodideLoaded?((0,o.wg)(),(0,o.iD)("div",m,[0===s.statements.length?((0,o.wg)(),(0,o.j4)(g,{key:0,fluid:"","fill-height":""},{default:(0,o.w5)((()=>[(0,o.Wm)(c,{align:"center",justify:"center"},{default:(0,o.w5)((()=>[(0,o.Wm)(l,{cols:"12",sm:"8",md:"6",lg:"4",class:"text-center"},{default:(0,o.w5)((()=>[p,h,(0,o.Wm)(i,{class:"btn primary",large:"",onClick:t[0]||(t[0]=e=>s.dialog=!0)},{default:(0,o.w5)((()=>[(0,o.Uk)("Add Data")])),_:1})])),_:1})])),_:1}),(0,o.Wm)(w,{modelValue:s.dialog,"onUpdate:modelValue":t[2]||(t[2]=e=>s.dialog=e),width:"auto"},{default:(0,o.w5)((()=>[(0,o.Wm)(d,{onCloseDialog:t[1]||(t[1]=e=>s.dialog=!1),onNewStatementAdded:r.pushStatement},null,8,["onNewStatementAdded"])])),_:1},8,["modelValue"])])),_:1})):(0,o.kq)("",!0),(0,o._)("div",f,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(r.getStatements,(e=>((0,o.wg)(),(0,o.iD)("div",{key:e.id},["NamedMatrix"===e.type?((0,o.wg)(),(0,o.j4)(v,{key:0,matrix:e,workspace:s.workspace,"workspace-version":s.workspaceVersion,onWorkspacePush:r.onPushWorkspace,onClearWorkspace:r.onClearWorkspace,onStatementAdded:r.pushStatement,onDeleteStatement:r.onDeleteStatement,onStatementUpdated:r.onStatementUpdated,onDeleteFromWorkspace:r.onDeleteFromWorkspace},null,8,["matrix","workspace","workspace-version","onWorkspacePush","onClearWorkspace","onStatementAdded","onDeleteStatement","onStatementUpdated","onDeleteFromWorkspace"])):(0,o.kq)("",!0),"PlotStatement"===e.type?((0,o.wg)(),(0,o.j4)(x,{key:1,"plot-c":e,onDeleteStatement:r.onDeleteStatement},null,8,["plot-c","onDeleteStatement"])):(0,o.kq)("",!0)])))),128))]),(0,o.Wm)(y,{class:"cntls-bar-cmp",onWorkspaceUpdate:r.onClearWorkspace,onNewStatementAdded:r.pushStatement},null,8,["onWorkspaceUpdate","onNewStatementAdded"])])):(0,o.kq)("",!0),(0,o.Wm)(k)],64)}n(7658);const g=e=>((0,o.dD)("data-v-dd0cfefc"),e=e(),(0,o.Cn)(),e),v={class:"bottom-bar"},x=g((()=>(0,o._)("div",{class:"frmt-as-cbc-text"}," Format as: ",-1)));function y(e,t,n,a,s,r){const i=(0,o.up)("AddDataWindow"),l=(0,o.up)("v-dialog");return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o._)("div",v,[(0,o._)("button",{class:"btn",onClick:t[0]||(t[0]=e=>s.dialog=!0)},"Add data"),(0,o._)("button",{class:"btn",onClick:t[1]||(t[1]=(...e)=>r.clearWorkspace&&r.clearWorkspace(...e))},"Deselect"),x,(0,o._)("button",{class:"btn",onClick:t[2]||(t[2]=e=>this.$store.state.formatStyle=0)},"Long Float"),(0,o._)("button",{class:"btn",onClick:t[3]||(t[3]=e=>this.$store.state.formatStyle=1)},"Fraction")]),(0,o.Wm)(l,{modelValue:s.dialog,"onUpdate:modelValue":t[5]||(t[5]=e=>s.dialog=e),width:"auto"},{default:(0,o.w5)((()=>[(0,o.Wm)(i,{onCloseDialog:t[4]||(t[4]=e=>s.dialog=!1),onNewStatementAdded:r.onNewStatementAdded},null,8,["onNewStatementAdded"])])),_:1},8,["modelValue"])],64)}const k={class:"d-flex flex-row"};function b(e,t,n,a,s,r){const i=(0,o.up)("v-tab"),l=(0,o.up)("v-tabs"),c=(0,o.up)("AddAnyExpression"),d=(0,o.up)("v-window-item"),u=(0,o.up)("AddFromFile"),m=(0,o.up)("v-card-subtitle"),p=(0,o.up)("v-text-field"),h=(0,o.up)("MatrixPreview"),f=(0,o.up)("v-window"),w=(0,o.up)("v-card-text"),g=(0,o.up)("v-btn"),v=(0,o.up)("v-card-actions"),x=(0,o.up)("v-card");return(0,o.wg)(),(0,o.j4)(x,null,{default:(0,o.w5)((()=>[(0,o.Wm)(l,{modelValue:e.tab,"onUpdate:modelValue":t[0]||(t[0]=t=>e.tab=t),"bg-color":"primary"},{default:(0,o.w5)((()=>[(0,o.Wm)(i,{value:"Any expression"},{default:(0,o.w5)((()=>[(0,o.Uk)("Any expression")])),_:1}),(0,o.Wm)(i,{value:"From file"},{default:(0,o.w5)((()=>[(0,o.Uk)("From file")])),_:1}),(0,o.Wm)(i,{value:"Generator"},{default:(0,o.w5)((()=>[(0,o.Uk)("Generator")])),_:1})])),_:1},8,["modelValue"]),(0,o.Wm)(w,null,{default:(0,o.w5)((()=>[(0,o.Wm)(f,{modelValue:e.tab,"onUpdate:modelValue":t[5]||(t[5]=t=>e.tab=t)},{default:(0,o.w5)((()=>[(0,o.Wm)(d,{value:"Any expression"},{default:(0,o.w5)((()=>[(0,o.Wm)(c,{onCloseDialog:r.closeDialog,onNewStatementAdded:r.newStatementAdded},null,8,["onCloseDialog","onNewStatementAdded"])])),_:1}),(0,o.Wm)(d,{value:"Manual input"},{default:(0,o.w5)((()=>[(0,o.Uk)(" Manual input ")])),_:1}),(0,o.Wm)(d,{value:"From file"},{default:(0,o.w5)((()=>[(0,o.Wm)(u,{onCloseDialog:r.closeDialog,onNewStatementAdded:r.newStatementAdded},null,8,["onCloseDialog","onNewStatementAdded"])])),_:1}),(0,o.Wm)(d,{value:"Generator"},{default:(0,o.w5)((()=>[(0,o.Wm)(x,null,{default:(0,o.w5)((()=>[(0,o.Wm)(m,null,{default:(0,o.w5)((()=>[(0,o.Uk)("Choose one of the generators, and sepcify dimensions of the result.")])),_:1}),(0,o._)("div",k,[(0,o.Wm)(p,{modelValue:e.dim1,"onUpdate:modelValue":t[1]||(t[1]=t=>e.dim1=t),class:"ma-2",label:"Height",rules:[r.isNumber]},null,8,["modelValue","rules"]),(0,o.Wm)(p,{modelValue:e.dim2,"onUpdate:modelValue":t[2]||(t[2]=t=>e.dim2=t),class:"ma-2",label:"Width",rules:[r.isNumber]},null,8,["modelValue","rules"])]),(0,o.Wm)(l,{modelValue:e.text,"onUpdate:modelValue":t[3]||(t[3]=t=>e.text=t)},{default:(0,o.w5)((()=>[(0,o.Wm)(i,{value:"Ones"},{default:(0,o.w5)((()=>[(0,o.Uk)("Ones")])),_:1}),(0,o.Wm)(i,{value:"Zeros"},{default:(0,o.w5)((()=>[(0,o.Uk)("Zeros")])),_:1}),(0,o.Wm)(i,{value:"Eye"},{default:(0,o.w5)((()=>[(0,o.Uk)("Eye")])),_:1}),(0,o.Wm)(i,{value:"Range"},{default:(0,o.w5)((()=>[(0,o.Uk)("Range")])),_:1})])),_:1},8,["modelValue"]),(0,o.Wm)(w,null,{default:(0,o.w5)((()=>[(0,o.Wm)(f,{modelValue:e.text,"onUpdate:modelValue":t[4]||(t[4]=t=>e.text=t)},{default:(0,o.w5)((()=>[(0,o.Wm)(d,{value:"Ones"},{default:(0,o.w5)((()=>[(0,o.Wm)(h,{class:"ma-3",matrix:r.ones(e.dim1,e.dim2)},null,8,["matrix"])])),_:1}),(0,o.Wm)(d,{value:"Zeros"},{default:(0,o.w5)((()=>[(0,o.Wm)(h,{class:"ma-3",matrix:r.zeros(e.dim1,e.dim2)},null,8,["matrix"])])),_:1}),(0,o.Wm)(d,{value:"Eye"},{default:(0,o.w5)((()=>[(0,o.Wm)(h,{class:"ma-3",matrix:r.eye(e.dim1,e.dim2)},null,8,["matrix"])])),_:1}),(0,o.Wm)(d,{value:"Range"},{default:(0,o.w5)((()=>[(0,o.Wm)(h,{class:"ma-3",matrix:r.range(e.dim1,e.dim2)},null,8,["matrix"])])),_:1})])),_:1},8,["modelValue"])])),_:1}),(0,o.Wm)(v,{class:"buttons"},{default:(0,o.w5)((()=>[(0,o.Wm)(g,{class:"btn confirm",onClick:r.addNewMatrixAndCloserWindow},{default:(0,o.w5)((()=>[(0,o.Uk)("Generate")])),_:1},8,["onClick"]),(0,o.Wm)(g,{class:"btn cancel",onClick:r.closeDialog},{default:(0,o.w5)((()=>[(0,o.Uk)("Cancel")])),_:1},8,["onClick"])])),_:1})])),_:1})])),_:1})])),_:1},8,["modelValue"])])),_:1})])),_:1})}var S=n(7327),D=n(4870);const W="\nimport numpy\nimport sympy\nfrom math import *\nimport math\nfrom scipy.optimize import linprog\n\n\ndef ensureMatrix(M):\n    if type(M) == numpy.matrix:\n        return M.tolist()\n    else:\n        return [[M]]\n\n\ndef sin(degrees):\n    radians = math.radians(degrees)\n    return math.sin(radians)\n\ndef cos(degrees):\n    radians = math.radians(degrees)\n    return math.cos(radians)\n\ndef tan(degrees):\n    radians = math.radians(degrees)\n    return math.tan(radians)\n\ndef asin(x):\n    radians = math.asin(x)\n    return math.degrees(radians)\n\ndef acos(x):\n    radians = math.acos(x)\n    return math.degrees(radians)\n\ndef atan(x):\n    radians = math.atan(x)\n    return math.degrees(radians)\n\ndef atan2(y, x):\n    radians = math.atan2(y, x)\n    return math.degrees(radians)\n\ndef minimize_lp(matrix):\n    matrix = matrix.tolist()\n    # Extract the coefficients of the objective function\n    c = matrix[0][1:]\n    print(c)\n\n    # Extract the coefficients of the constraints\n    A = [row[1:] for row in matrix[1:]]\n    print(A)\n\n    # Extract the right-hand sides of the constraints\n    b = [row[0] for row in matrix[1:]]\n    print(b)\n\n    # Use Scipy's linprog function to solve the linear programming problem\n    res = linprog(c, A_eq=A, b_eq=b)\n\n    # Return the values of the decision variables\n    return res.x\n\n\n";async function _(){const e=await window.loadPyodide({indexURL:"https://cdn.jsdelivr.net/pyodide/v0.23.2/full"});await e.loadPackage("micropip");const t=e.pyimport("micropip");return await t.install("numpy"),await t.install("sympy"),await t.install("scipy"),e.runPython(W),e}let C;const A=(0,D.qj)({hasLoaded:!1});_().then((e=>{C=e,A.hasLoaded=!0}));class M extends Error{}class U{constructor(e){(0,S.Z)(this,"rowsAmount",void 0),(0,S.Z)(this,"columnsAmount",void 0),(0,S.Z)(this,"asList2D",void 0),(0,S.Z)(this,"asList2DFractions",void 0),this.rowsAmount=e.length,this.columnsAmount=e[0].length;const t=this;e.map((function(e){if(e.length!==t.columnsAmount)throw new M("Matrix has inconsistent amount of elements in rows");return e.forEach((function(e){if(isNaN(Number(e)))throw new M("Matrix has non-numeric elements")}))})),this.asList2D=e,this.asList2DFractions=e.map((e=>e.map((e=>{C.globals.set("x",e),C.runPython("result = sympy.Rational(x).limit_denominator()");const t=C.globals.get("result").toJs();return{numerator:t.numerator,denominator:t.denominator}}))))}getName(){return"unnamed"}getRelative(){return""}equals(e){return this.columnsAmount===e.columnsAmount&&this.rowsAmount===e.rowsAmount&&(this.asList2D.forEach(((t,n)=>{t.forEach(((t,a)=>{if(t!==e.asList2D[n][a])return!1}))})),!0)}toString(){let e="";return this.asList2D.forEach(((t,n)=>{let a="";t.forEach(((e,t)=>{a+=e,t<this.columnsAmount-1&&(a+=",")})),e+=a,n<this.rowsAmount-1&&(e+=";")})),e}copy(){const e=this.asList2D.map((e=>e.slice()));return new U(e)}}let V=1;class ${constructor(e){(0,S.Z)(this,"id",void 0),(0,S.Z)(this,"parent",void 0),(0,S.Z)(this,"type",void 0),this.id=V,V++,this.parent=e,this.type="PlotStatement"}}class O extends U{constructor(e,t=!1){super(e),(0,S.Z)(this,"id",void 0),(0,S.Z)(this,"name",void 0),(0,S.Z)(this,"type",void 0),t?this.id=-1:(this.id=V,V++),this.name="M"+this.id,this.type="NamedMatrix"}getName(){return this.name}getRelative(){return""}equals(e){return e instanceof O?this.id===e.id:super.equals(e)}changeNameUnsafe(e){this.name=e}}function L(e,t,n,a,s,r){const i=(0,o.up)("v-card-text"),l=(0,o.up)("v-textarea"),c=(0,o.up)("v-btn"),d=(0,o.up)("v-card-actions"),u=(0,o.up)("v-card");return(0,o.wg)(),(0,o.j4)(u,null,{default:(0,o.w5)((()=>[(0,o.Wm)(i,{class:"message"},{default:(0,o.w5)((()=>[(0,o.Uk)(' Here you can define matrices and simple mathematical expressions. To define a matrix, separate elements on a line with "," and move to a new line to define a new matrix line. ')])),_:1}),(0,o.Wm)(l,{label:"Enter matrix or extression",variant:"outlined",modelValue:s.textValue,"onUpdate:modelValue":t[0]||(t[0]=e=>s.textValue=e)},null,8,["modelValue"]),(0,o.Wm)(d,{class:"buttons"},{default:(0,o.w5)((()=>[(0,o.Wm)(c,{class:"btn confirm",onClick:r.addNewMatrixAndCloserWindow},{default:(0,o.w5)((()=>[(0,o.Uk)("Confirm")])),_:1},8,["onClick"]),(0,o.Wm)(c,{class:"btn cancel",onClick:r.closeDialog},{default:(0,o.w5)((()=>[(0,o.Uk)("Cancel")])),_:1},8,["onClick"])])),_:1})])),_:1})}function Z(e){const t=!0;if(!t)throw new M("Mathematical expression is unsafe.");return C.runPython(e)}function P(e,t){return 0===e?t.asList2D:1===e?t.asList2DFractions.map((e=>e.map((e=>1===e.denominator?e.numerator:e.numerator+"/"+e.denominator)))):t.asList2D}function R(e,t){return void 0!==e[t]&&null!==e[t]?e[t]:"1"}function I(e,t){const n=void 0!==e&&null!==e?e+" *":"";return""!==n?"("+n+" "+t.getDescription()+")":t.getDescription()}var F={name:"AddAnyExpression",methods:{addNewMatrixAndCloserWindow(){try{const e=this.$data.textValue.replace(/\^/g,"**").split("\n").map((e=>e.split(",").map((e=>Z(e))))),t=new O(e);this.$emit("newStatementAdded",t),this.$emit("closeDialog")}catch(e){console.log(e.message),this.$store.commit("setOpenSnackBar",{title:"Invalid matrix",moreInfo:""+e.message,kind:"Error"})}},closeDialog(){this.$emit("closeDialog")}},data(){return{textValue:"",palceholder:"Example: \n            1, 2, 1/3\n            5.5, 7, 6\n            4, 5, -10\n            "}},emits:["closeDialog","newStatementAdded"]};const N=(0,r.Z)(F,[["render",L],["__scopeId","data-v-cfa82384"]]);var E=N;function q(e,t,n,a,s,r){const i=(0,o.up)("v-card-subtitle"),l=(0,o.up)("v-file-input"),c=(0,o.up)("v-btn"),d=(0,o.up)("v-card-actions");return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o.Wm)(i,null,{default:(0,o.w5)((()=>[(0,o.Uk)("Upload or drop files in following formats")])),_:1}),(0,o.Wm)(l,{label:".xlsx, .csv",accept:".csv, application/vnd.ms-excel, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","prepend-icon":"",variant:"underlined",modelValue:s.files,"onUpdate:modelValue":t[0]||(t[0]=e=>s.files=e)},null,8,["modelValue"]),(0,o.Wm)(d,{class:"buttons"},{default:(0,o.w5)((()=>[(0,o.Wm)(c,{class:"btn confirm",onClick:r.addNewMatrixAndCloserWindow},{default:(0,o.w5)((()=>[(0,o.Uk)("Confirm")])),_:1},8,["onClick"]),(0,o.Wm)(c,{class:"btn cancel",onClick:r.closeDialog},{default:(0,o.w5)((()=>[(0,o.Uk)("Cancel")])),_:1},8,["onClick"])])),_:1})],64)}var j=n(6026),z=n.n(j),T=n(4973),B=n.n(T);async function H(e){const t=e.type;if("text/csv"===t){const t=await Y(e);return t}if("application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"===t){const t=await G(e);return t}throw new Error("File is not in acceptable format")}async function Y(e){return console.log(e),new Promise(((t,n)=>{z().parse(e,{complete:e=>{console.log(e.data);const n=e.data.map((e=>e instanceof Array?e.filter((e=>""!==e)):[])).filter((e=>0!==e.length));t(n)},header:!1})}))}async function G(e){console.log("Started xlsx: "+e);const t=new(B().Workbook);await t.xlsx.load(e);const n=t.worksheets[0],a=n.getSheetValues().slice(1).map((e=>e instanceof Array?e.slice(1):e));return console.log(a),a}function X(e){return e.map((e=>e.join(","))).join("\n")}function J(e){const t=X(e),n=new Blob([t],{type:"text/csv;charset=utf-8"});te(n,"data.csv")}function K(e){const t=new(B().Workbook),n=t.addWorksheet("Sheet1");for(let a=0;a<e.length;a++)n.addRow(e[a]);t.xlsx.writeBuffer().then((e=>{const t=new Blob([e],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"});te(t,"data.xlsx")}))}function Q(e){const t=e.map((e=>e.join(" & "))).join(" \\\\ \n"),n=`\\begin{tabular}{${"c".repeat(e[0].length)}}\n${t} \n\\end{tabular}`;return n}function ee(e){const t=Q(e),n=new Blob([t],{type:"text/plain;charset=utf-8"});te(n,"data.tex")}function te(e,t){const n=window.URL.createObjectURL(e),a=document.createElement("a");a.href=n,a.download=t,document.body.appendChild(a),a.click(),document.body.removeChild(a)}var ne={name:"AddFromFile",data(){return{files:[]}},methods:{async addNewMatrixAndCloserWindow(){try{let e=await H(this.files[0]);const t=e.map((e=>e.map((e=>Z(e.toString()))))),n=new O(t);this.$emit("newStatementAdded",n),this.$emit("closeDialog")}catch(e){if(!(e instanceof M))throw e;this.$data.textValue="temp: "+e.message}},closeDialog(){this.$emit("closeDialog")}},emits:["closeDialog","newStatementAdded"]};const ae=(0,r.Z)(ne,[["render",q],["__scopeId","data-v-5b31a5e8"]]);var oe=ae,se=n(7139);const re={ref:"matrix",class:"matrix",style:{border:"1px solid black"}},ie={class:"hld"};function le(e,t,n,a,s,r){return(0,o.wg)(),(0,o.iD)("table",re,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(n.matrix,((e,t)=>((0,o.wg)(),(0,o.iD)("tr",{key:t},[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e,((e,t)=>((0,o.wg)(),(0,o.iD)("td",{key:t},[(0,o._)("div",ie,(0,se.zw)(e),1)])))),128))])))),128))],512)}var ce={name:"MatrixPreview",props:{matrix:{required:!0}}};const de=(0,r.Z)(ce,[["render",le],["__scopeId","data-v-1f0de6f6"]]);var ue=de,me={name:"AddDataWindow",components:{AddAnyExpression:E,AddFromFile:oe,MatrixPreview:ue},data:()=>({tab:null,dim1:"3",dim2:"3",text:null}),methods:{closeDialog(){this.$emit("closeDialog")},newStatementAdded(e){this.$emit("newStatementAdded",e)},addNewMatrixAndCloserWindow(){let e=0;e="Ones"===this.text?new O(this.ones(this.dim1,this.dim2)):"Zeros"===this.text?new O(this.zeros(this.dim1,this.dim2)):"Eye"==this.text?new O(this.eye(this.dim1,this.dim2)):"Range"==this.text?new O(this.range(this.dim1,this.dim2)):new O(this.ones(this.dim1,this.dim2)),this.$emit("newStatementAdded",e),this.$emit("closeDialog")},allOfThemAtOnce(e,t){return{ones:this.ones(e,t),zeros:this.zeros(e,t),eye:this.eye(e,t),range:this.range(e,t)}},isNumber(e){const t=!isNaN(Number(e));return!!t||"Only numericals are allowed."}},computed:{ones(){return(e,t)=>new Array(Number(e)).fill(1).map((()=>new Array(Number(t)).fill(1)))},zeros(){return(e,t)=>Array(Number(e)).fill(1).map((()=>new Array(Number(t)).fill(0)))},eye(){return(e,t)=>new Array(Number(e)).fill(1).map(((e,n)=>new Array(Number(t)).fill(1).map(((e,t)=>n===t?1:0))))},range(){return(e,t)=>new Array(Number(e)).fill(1).map((()=>new Array(Number(t)).fill(1).map(((e,t)=>t))))}},emits:["closeDialog","newStatementAdded"]};const pe=(0,r.Z)(me,[["render",b]]);var he=pe,fe={name:"ControlsBarComponent",data(){return{dialog:!1}},components:{AddDataWindow:he},methods:{setOpenDataWindow(e){this.$store.commit("setOpenDataWindow",e)},clearWorkspace(){this.$emit("workspaceUpdate")},onNewStatementAdded(e){this.$emit("newStatementAdded",e)}},emits:["workspaceUpdate","newStatementAdded"]};const we=(0,r.Z)(fe,[["render",y],["__scopeId","data-v-dd0cfefc"]]);var ge=we;const ve={class:"align-self-center my-auto mx-3"};function xe(e,t,n,s,r,i){const l=(0,o.up)("v-btn"),c=(0,o.up)("v-text-field"),d=(0,o.up)("matrix-viewer"),u=(0,o.up)("matrix-methods-tabs"),m=(0,o.up)("v-sheet");return(0,o.wg)(),(0,o.j4)(m,{variant:"tonal",class:"d-flex flex-row ma-1 sc2-sheet"},{default:(0,o.w5)((()=>[(0,o.Wm)(l,{icon:"✖",variant:"tonal",class:"align-self-center ma-3",onClick:t[0]||(t[0]=e=>i.onDeleteStatement(n.matrix.id))},{default:(0,o.w5)((()=>[(0,o.Uk)(" ✖ ")])),_:1}),(0,o._)("div",{style:(0,se.j5)(i.nameModelStyle()),class:"align-self-center my-auto"},[(0,o.Wm)(c,{class:"align-self-center my-auto",variant:"plain",modelValue:e.matrixNameModel,"onUpdate:modelValue":[t[1]||(t[1]=t=>e.matrixNameModel=t),i.onStatementNameUpdate],counter:"20"},null,8,["modelValue","onUpdate:modelValue"])],4),(0,o._)("div",ve," = "+(0,se.zw)(n.matrix.getRelative()),1),(0,o._)("div",null,[(0,o.Wm)(d,{matrix:n.matrix,workspace:n.workspace,"workspace-version":n.workspaceVersion,onWorkspacePush:i.onWorkspacePush,class:"ma-3"},null,8,["matrix","workspace","workspace-version","onWorkspacePush"]),(0,o.wy)((0,o.Wm)(l,{variant:"tonal",class:"mb-3",size:"small",onClick:t[2]||(t[2]=e=>i.onDeleteFromWorkspacebyStId())},{default:(0,o.w5)((()=>[(0,o.Uk)(" Deselect ")])),_:1},512),[[a.F8,0!==n.workspace.list.filter((e=>e.parent.id===n.matrix.id)).length]])]),0!==n.workspace.list.length&&n.workspace.list[0].parent.id===n.matrix.id?((0,o.wg)(),(0,o.j4)(u,{key:0,workspace:n.workspace,onClearWorkspace:i.onClearWorkspace,onStatementAdded:i.onStatementAdded},null,8,["workspace","onClearWorkspace","onStatementAdded"])):(0,o.kq)("",!0)])),_:1})}class ye{constructor(e){(0,S.Z)(this,"row",void 0),this.row=e}getDescription(){return"["+this.row+", :]"}getFrom(e){return[e[this.row]]}setForWith(e,t){const n=this.getFrom(e);if(1!==t.length||n[0].length!==t[0].length)throw new Error("Dimension of matrix to replace doesn't match with dimensions of matrix to be replaced with.");const a=e.map((e=>e.slice()));return a[this.row]=t[0],a}getAsIndexesFor(e){return console.log(e),e[this.row].map(((e,t)=>({row:this.row,col:t})))}}class ke{constructor(e){(0,S.Z)(this,"col",void 0),this.col=e}getDescription(){return"[:, "+this.col+"]"}getFrom(e){return e.map((e=>[e[this.col]]))}setForWith(e,t){const n=this.getFrom(e);if(n.length!==t.length||1!==t[0].length)throw new Error("Dimension of matrix to replace doesn't match with dimensions of matrix to be replaced with: rx.length: "+n.length+", setTo.length: "+t.length+", setTo[0].length: "+t[0].length);let a=e.map((e=>e.slice()));return a=a.map(((e,n)=>(e[this.col]=t[n][0],e))),a}getAsIndexesFor(e){return e.map(((e,t)=>({row:t,col:this.col})))}}class be{getDescription(){return""}getFrom(e){return e}setForWith(e,t){const n=this.getFrom(e),a=t;if(n.length!==a.length||n[0].length!==a[0].length)throw new Error("Dimension of matrix to replace doesn't match with dimensions of matrix to be replaced with.");return t.map((e=>e.slice()))}getAsIndexesFor(e){return e.map(((e,t)=>e.map(((e,n)=>({row:t,col:n}))))).flat()}}class Se{constructor(e,t){(0,S.Z)(this,"row",void 0),(0,S.Z)(this,"col",void 0),this.row=e,this.col=t}getDescription(){return"["+this.row+", "+this.col+"]"}getFrom(e){return[[e[this.row][this.col]]]}setForWith(e,t){if(1!==t.length||1!==t[0].length)throw new Error("Dimension of matrix to replace doesn't match with dimensions of matrix to be replaced with.");const n=e.map((e=>e.slice()));return n[this.row][this.col]=t[0][0],n}getAsIndexesFor(e){return[{row:this.row,col:this.col}]}}class De{constructor(){(0,S.Z)(this,"list",void 0),this.list=[]}getSelectedRowsFor(e){const t=this.list.filter((t=>t.parent.id===e&&t.selection instanceof ye)).map((e=>{if(e.selection instanceof ye)return e.selection.row;throw new Error("x.selection was not RowSelection instance")}));return t}getSelectedColsFor(e){const t=this.list.filter((t=>t.parent.id===e&&t.selection instanceof ke)).map((e=>{if(e.selection instanceof ke)return e.selection.col;throw new Error("x.selection was not ColSelection instance")}));return t}getSelectedCellsFor(e){const t=this.list.filter((t=>t.parent.id===e&&t.selection instanceof Se)).map((e=>{if(e.selection instanceof Se)return{row:e.selection.row,col:e.selection.col};throw new Error("x.selection was not CellSelection instance")}));return t}getSelectedAllFor(e){const t=this.list.filter((t=>t.parent.id===e&&t.selection instanceof be)).length>0;return t}}class We{constructor(e,t){(0,S.Z)(this,"parent",void 0),(0,S.Z)(this,"selection",void 0),this.parent=e,this.selection=t}getDescription(){return this.parent.getName()+""+this.selection.getDescription()}asList2D(){return this.selection.getFrom(this.parent.asList2D)}getSelectionsAsIndexes(){}}const _e={ref:"matrix",class:"matrix"},Ce=["onClick","onMouseover","onMouseout"],Ae={key:0},Me={style:{color:"#aaa"}},Ue=["onClick","onMouseover","onMouseout"],Ve={class:"hld"},$e=["onClick","onMouseover","onMouseout"],Oe={key:0},Le={style:{color:"#aaa"}};function Ze(e,t,n,a,s,r){const i=(0,o.up)("v-icon");return(0,o.wg)(),(0,o.iD)("table",_e,[(0,o._)("tr",null,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(n.matrix.columnsAmount,(e=>((0,o.wg)(),(0,o.iD)("th",{key:e},[(0,o._)("button",{class:"row-col-selector-btn",onClick:t=>r.onColButtonClick(e-1),onMouseover:t=>r.onColMouseOver(e-1),onMouseout:t=>r.onColMouseOut(e-1)},"⏺",40,Ce)])))),128)),(0,o._)("th",null,[(0,o._)("button",{class:"row-col-selector-btn",onClick:t[0]||(t[0]=e=>r.onAllButtonClick()),onMouseover:t[1]||(t[1]=e=>r.onAllMouseOver()),onMouseout:t[2]||(t[2]=e=>r.onAllMouseOut())},"◼",32)]),0===n.workspaceVersion?((0,o.wg)(),(0,o.iD)("th",Ae,[(0,o._)("span",Me,[(0,o.Wm)(i,null,{default:(0,o.w5)((()=>[(0,o.Uk)("mdi-arrow-left-thick")])),_:1}),(0,o.Uk)("click!")])])):(0,o.kq)("",!0)]),((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(r.getMatrixAccordingToFormatter(),((e,t)=>((0,o.wg)(),(0,o.iD)("tr",{key:t},[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e,((e,a)=>((0,o.wg)(),(0,o.iD)("td",{style:(0,se.j5)(r.cellStyle(t,a)),key:t*n.matrix.columnsAmount+a,onClick:e=>r.onSingleMouseClick(t,a),onMouseover:e=>r.onSingleMouseOver(t,a),onMouseout:e=>r.onSingleMouseOut(t,a)},[(0,o._)("div",Ve,(0,se.zw)(e),1)],44,Ue)))),128)),(0,o._)("td",null,[(0,o._)("button",{class:"row-col-selector-btn",onClick:e=>r.onRowButtonClick(t),onMouseover:e=>r.onRowMouseOver(t),onMouseout:e=>r.onRowMouseOut(t)},"⏺",40,$e)]),0===n.workspaceVersion?((0,o.wg)(),(0,o.iD)("td",Oe,[(0,o._)("span",Le,[(0,o.Wm)(i,null,{default:(0,o.w5)((()=>[(0,o.Uk)("mdi-arrow-left-thick")])),_:1}),(0,o.Uk)("click!")])])):(0,o.kq)("",!0)])))),128))],512)}var Pe={data(){return{cellStyles:{rows:[],cols:[],cells:[[]],all:{}}}},props:{matrix:{required:!0},workspace:{type:De,required:!0},workspaceVersion:{required:!0}},created(){this.cellStyles={rows:Array(this.matrix.rowsAmount).fill(!1).map((()=>({hover:!1,selected:!1}))),cols:Array(this.matrix.columnsAmount).fill(!1).map((()=>({hover:!1,selected:!1}))),cells:Array(this.matrix.rowsAmount).fill([]).map((()=>Array(this.matrix.columnsAmount).fill(!1).map((()=>({hover:!1,selected:!1}))))),all:{hover:!1,selected:!1}}},methods:{onRowButtonClick(e){console.log("Button clicked! ",e),this.$emit("workspacePush",new We(this.matrix,new ye(e)))},onColButtonClick(e){this.$emit("workspacePush",new We(this.matrix,new ke(e)))},onSingleMouseClick(e,t){this.$emit("workspacePush",new We(this.matrix,new Se(e,t)))},onAllButtonClick(){this.$emit("workspacePush",new We(this.matrix,new be))},onRowMouseOver(e){this.$data.cellStyles.rows[e].hover=!0},onRowMouseOut(e){this.$data.cellStyles.rows[e].hover=!1},onColMouseOver(e){this.$data.cellStyles.cols[e].hover=!0},onColMouseOut(e){this.$data.cellStyles.cols[e].hover=!1},onAllMouseOver(){console.log(this.$data.cellStyles.all),this.$data.cellStyles.all.hover=!0},onAllMouseOut(){console.log(this.$data.cellStyles.all),this.$data.cellStyles.all.hover=!1},onSingleMouseOver(e,t){this.$data.cellStyles.cells[e][t].hover=!0},onSingleMouseOut(e,t){this.$data.cellStyles.cells[e][t].hover=!1},selectedStyle(){const e=this.$props.workspace;if(e instanceof De){this.$data.cellStyles.all.selected=e.getSelectedAllFor(this.matrix.id);const t=e.getSelectedRowsFor(this.matrix.id);for(let e=0;e<this.$data.cellStyles.rows.length;e++)this.$data.cellStyles.rows[e].selected=!1;for(let e=0;e<t.length;e++){const n=t[e];this.$data.cellStyles.rows[n].selected=!0}const n=e.getSelectedColsFor(this.matrix.id);for(let e=0;e<this.$data.cellStyles.cols.length;e++)this.$data.cellStyles.cols[e].selected=!1;for(let e=0;e<n.length;e++){const t=n[e];this.$data.cellStyles.cols[t].selected=!0}const a=e.getSelectedCellsFor(this.matrix.id);for(let e=0;e<this.$data.cellStyles.cells.length;e++){const t=this.$data.cellStyles.cells[e];for(let n=0;n<t.length;n++)this.$data.cellStyles.cells[e][n].selected=!1}for(let e=0;e<a.length;e++){const t=a[e];this.$data.cellStyles.cells[t.row][t.col].selected=!0}}}},computed:{getMatrixAccordingToFormatter(){return()=>{const e=P(this.$store.state.formatStyle,this.matrix);return e}},cellStyle(){return(e,t)=>this.$data.cellStyles.all.selected||this.$data.cellStyles.rows[e].selected||this.$data.cellStyles.cols[t].selected||this.$data.cellStyles.cells[e][t].selected?{"background-color":"white",border:"1px solid black"}:this.$data.cellStyles.all.hover||this.$data.cellStyles.rows[e].hover||this.$data.cellStyles.cols[t].hover||this.$data.cellStyles.cells[e][t].hover?{"background-color":"grey",border:"1px solid grey"}:{"background-color":"white",border:"1px solid white"}}},watch:{workspaceVersion:{immediate:!0,handler(e){console.log("Workspace updated, version: "+e),this.selectedStyle()}}},emits:["workspacePush"]};const Re=(0,r.Z)(Pe,[["render",Ze],["__scopeId","data-v-49b2b608"]]);var Ie=Re;function Fe(e,t,n,a,s,r){const i=(0,o.up)("v-icon"),l=(0,o.up)("v-tab"),c=(0,o.up)("v-tabs"),d=(0,o.up)("MatrixMethodsButtons"),u=(0,o.up)("v-window-item"),m=(0,o.up)("v-window"),p=(0,o.up)("v-sheet"),h=(0,o.up)("method-arguments");return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o.Wm)(p,{variant:"tonal",class:"ma-2 mmt-sheet pa-2"},{default:(0,o.w5)((()=>[(0,o.Wm)(c,{modelValue:e.tab,"onUpdate:modelValue":t[0]||(t[0]=t=>e.tab=t),density:"compact",size:"small"},{default:(0,o.w5)((()=>[(0,o.Wm)(l,{value:"Math"},{default:(0,o.w5)((()=>[(0,o.Wm)(i,null,{default:(0,o.w5)((()=>[(0,o.Uk)("mdi-calculator-variant")])),_:1}),(0,o.Uk)("Math")])),_:1}),(0,o.Wm)(l,{value:"Code"},{default:(0,o.w5)((()=>[(0,o.Wm)(i,null,{default:(0,o.w5)((()=>[(0,o.Uk)("mdi-application-braces")])),_:1}),(0,o.Uk)("Code")])),_:1}),(0,o.Wm)(l,{value:"Other"},{default:(0,o.w5)((()=>[(0,o.Wm)(i,null,{default:(0,o.w5)((()=>[(0,o.Uk)("mdi-tools")])),_:1}),(0,o.Uk)("Other")])),_:1})])),_:1},8,["modelValue"]),(0,o.Wm)(m,{modelValue:e.tab,"onUpdate:modelValue":t[1]||(t[1]=t=>e.tab=t)},{default:(0,o.w5)((()=>[(0,o.Wm)(u,{value:"Math"},{default:(0,o.w5)((()=>[(0,o.Wm)(d,{methods:r.mathMethodGroupConstruct(),onMethodChosen:r.onMethodChosen},null,8,["methods","onMethodChosen"])])),_:1}),(0,o.Wm)(u,{value:"Code"},{default:(0,o.w5)((()=>[(0,o.Wm)(d,{methods:r.codeMethodGroupConstruct(),onMethodChosen:r.onMethodChosen},null,8,["methods","onMethodChosen"])])),_:1}),(0,o.Wm)(u,{value:"Other"},{default:(0,o.w5)((()=>[(0,o.Wm)(d,{methods:r.otherMethodGroupConstruct(),onMethodChosen:r.onMethodChosen},null,8,["methods","onMethodChosen"])])),_:1})])),_:1},8,["modelValue"])])),_:1}),void 0!==e.chosenMethod?((0,o.wg)(),(0,o.j4)(h,{key:0,"matrix-method":e.chosenMethod,workspace:n.workspace,onClearWorkspace:r.onClearWorkspace,onStatementAdded:r.onStatementAdded},null,8,["matrix-method","workspace","onClearWorkspace","onStatementAdded"])):(0,o.kq)("",!0)],64)}const Ne=e=>((0,o.dD)("data-v-15af190c"),e=e(),(0,o.Cn)(),e),Ee=Ne((()=>(0,o._)("div",{class:"subtext"},"choose function",-1)));function qe(e,t,n,a,s,r){const i=(0,o.up)("v-btn"),l=(0,o.up)("v-combobox"),c=(0,o.up)("v-sheet");return(0,o.wg)(),(0,o.j4)(c,{class:"mmb-sheet"},{default:(0,o.w5)((()=>[Ee,((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(n.methods.top,((e,t)=>((0,o.wg)(),(0,o.j4)(i,{size:"small",variant:"tonal",key:t,class:"ma-1",onClick:t=>r.buttonClick(e.name())},{default:(0,o.w5)((()=>[(0,o.Uk)((0,se.zw)(e.name()),1)])),_:2},1032,["onClick"])))),128)),(0,o.Wm)(l,{label:"More functions",density:"compact",modelValue:s.value,"onUpdate:modelValue":[t[0]||(t[0]=e=>s.value=e),r.comboxChange],items:n.methods.all().map((e=>e.name())),class:"ma-1",variant:"outlined",color:r.comboxColor()},null,8,["modelValue","items","onUpdate:modelValue","color"])])),_:1})}var je={name:"MatrixMethodsButtons",data(){return{value:null,incorrectComboxValue:!1}},props:{methods:{require:!0}},methods:{comboxChange(){""===this.value&&(this.value=null),null!==this.value&&0===this.methods.all().map((e=>e.name())).filter((e=>e===this.value.trim())).length?this.$data.incorrectComboxValue=!0:(this.$data.incorrectComboxValue=!1,null!==this.value&&this.$emit("methodChosen",this.value))},buttonClick(e){this.value=null,this.$emit("methodChosen",e)}},computed:{comboxColor(){return()=>this.$data.incorrectComboxValue?"red":""}},emit:["methodChosen"]};const ze=(0,r.Z)(je,[["render",qe],["__scopeId","data-v-15af190c"]]);var Te=ze;class Be extends O{constructor(e,t=!1){const n=e[0].parent.id;e=e.filter((e=>e.parent.id===n));const a=e.map((e=>e.selection.getAsIndexesFor(e.parent.asList2D))).flat();super(He(e[0].parent.asList2D,a),t),(0,S.Z)(this,"parents",void 0),(0,S.Z)(this,"selections",void 0),this.selections=a,this.parents=e}getRelative(){return"selections from "+this.parents[0].parent.name}getName(){return this.getRelative()}}function He(e,t){const n=Ye(t);return Array.from(n.values()).map((t=>t.map((({row:t,col:n})=>e[t][n]))))}function Ye(e){const t=new Map;return e.slice().sort((function(e,t){return e.row-t.row!==0?e.row-t.row:e.col-t.col})).forEach((({row:e,col:n})=>{const a=t.get(e);void 0===a?t.set(e,new Array({row:e,col:n})):(a.push({row:e,col:n}),t.set(e,a))})),t}class Ge extends O{constructor(e,t,n=!1,a=[]){if(n){const n=Xe(e,t,a);super(e.selection.setForWith(e.parent.asList2D,n)),(0,S.Z)(this,"parentLeft",void 0),(0,S.Z)(this,"parentRight",void 0),(0,S.Z)(this,"appendages",void 0)}else super(Xe(e,t,a)),(0,S.Z)(this,"parentLeft",void 0),(0,S.Z)(this,"parentRight",void 0),(0,S.Z)(this,"appendages",void 0);this.parentLeft=e,this.parentRight=t,this.appendages=a}getRelative(){return I(this.appendages[0],this.parentLeft)+" + "+I(this.appendages[1],this.parentRight)}}function Xe(e,t,n){const a=e.selection.getDescription(),o=t.selection.getDescription(),s=R(n,0),r=R(n,1);return C.globals.set("x",e.parent.toString()),C.globals.set("y",t.parent.toString()),C.runPython("mx = numpy.matrix(x) \nmy = numpy.matrix(y) \nresult = ensureMatrix(numpy.add(("+s+")* mx"+a+", ("+r+")* my"+o+"))"),C.globals.get("result").toJs()}class Je extends O{constructor(e,t,n=!1,a=[]){if(n){const n=Ke(e,t,a);super(e.selection.setForWith(e.parent.asList2D,n)),(0,S.Z)(this,"parentLeft",void 0),(0,S.Z)(this,"parentRight",void 0),(0,S.Z)(this,"appendages",void 0)}else super(Ke(e,t,a)),(0,S.Z)(this,"parentLeft",void 0),(0,S.Z)(this,"parentRight",void 0),(0,S.Z)(this,"appendages",void 0);this.parentLeft=e,this.parentRight=t,this.appendages=a}getRelative(){return I(this.appendages[0],this.parentLeft)+" - "+I(this.appendages[1],this.parentRight)}}function Ke(e,t,n){const a=e.selection.getDescription(),o=t.selection.getDescription(),s=R(n,0),r=R(n,1);return C.globals.set("x",e.parent.toString()),C.globals.set("y",t.parent.toString()),C.runPython("mx = numpy.matrix(x) \nmy = numpy.matrix(y) \nresult = ensureMatrix(numpy.subtract(("+s+")* mx"+a+", ("+r+")* my"+o+"))"),C.globals.get("result").toJs()}class Qe extends O{constructor(e,t,n=[]){super(et(e,t,n)),(0,S.Z)(this,"parentLeft",void 0),(0,S.Z)(this,"parentRight",void 0),(0,S.Z)(this,"appendages",void 0),this.parentLeft=e,this.parentRight=t,this.appendages=n}getRelative(){return I(this.appendages[0],this.parentLeft)+" * "+I(this.appendages[1],this.parentRight)}}function et(e,t,n){const a=e.selection.getDescription(),o=t.selection.getDescription(),s=R(n,0),r=R(n,1);return C.globals.set("x",e.parent.toString()),C.globals.set("y",t.parent.toString()),C.runPython("mx = numpy.matrix(x) \nmy = numpy.matrix(y) \nresult = ensureMatrix(numpy.matmul(("+s+")* mx"+a+", ("+r+")* my"+o+"))"),C.globals.get("result").toJs()}class tt extends O{constructor(e,t=[]){super(nt(e,t)),(0,S.Z)(this,"parent",void 0),(0,S.Z)(this,"appendages",void 0),this.parent=e,this.appendages=t}getRelative(){return"transposed "+I(this.appendages[0],this.parent)}}function nt(e,t){const n=e.selection.getDescription(),a=R(t,0);return C.globals.set("x",e.parent.toString()),C.runPython("mx = numpy.matrix(x) \nresult = numpy.transpose(("+a+")* mx"+n+").tolist()"),C.globals.get("result").toJs()}class at extends O{constructor(e,t=[]){super(ot(e,t)),(0,S.Z)(this,"parent",void 0),(0,S.Z)(this,"appendages",void 0),this.parent=e,this.appendages=t}getRelative(){return I(this.appendages[0],this.parent)+"^-1"}}function ot(e,t){const n=e.selection.getDescription(),a=R(t,0);return C.globals.set("x",e.parent.toString()),C.runPython("mx = numpy.matrix(x) \nresult = numpy.linalg.inv(("+a+")* mx"+n+").tolist()"),C.globals.get("result").toJs()}class st extends O{constructor(e,t,n=!1,a=[]){if(n){const n=rt(e,t,a);super(e.selection.setForWith(e.parent.asList2D,n)),(0,S.Z)(this,"parentLeft",void 0),(0,S.Z)(this,"parentRight",void 0),(0,S.Z)(this,"appendages",void 0)}else super(rt(e,t,a)),(0,S.Z)(this,"parentLeft",void 0),(0,S.Z)(this,"parentRight",void 0),(0,S.Z)(this,"appendages",void 0);this.parentLeft=e,this.parentRight=t,this.appendages=a}getRelative(){return I(this.appendages[0],this.parentLeft)+" .* "+I(this.appendages[1],this.parentRight)}}function rt(e,t,n){const a=e.selection.getDescription(),o=t.selection.getDescription(),s=R(n,0),r=R(n,1);return C.globals.set("x",e.parent.toString()),C.globals.set("y",t.parent.toString()),C.runPython("mx = numpy.matrix(x) \nmy = numpy.matrix(y) \nresult = ensureMatrix(numpy.multiply(("+s+")* mx"+a+", ("+r+")* my"+o+"))"),C.globals.get("result").toJs()}class it extends O{constructor(e,t){super(lt(e,t)),(0,S.Z)(this,"parentLeft",void 0),(0,S.Z)(this,"parentRight",void 0),this.parentLeft=e,this.parentRight=t}getRelative(){return this.parentLeft.getDescription()+" replaced with "+this.parentRight.getDescription()}}function lt(e,t){const n=e.selection.setForWith(e.parent.asList2D,t.asList2D());return n}class ct extends O{constructor(e,t){super(dt(e,t)),(0,S.Z)(this,"parentLeft",void 0),(0,S.Z)(this,"parentRight",void 0),this.parentLeft=e,this.parentRight=t}getRelative(){return this.parentLeft.getDescription()+" swapped with "+this.parentRight.getDescription()}}function dt(e,t){let n=e.selection.setForWith(e.parent.asList2D,t.asList2D());if(!e.parent.equals(t.parent))throw new Error("Tried to swap between matrixes");return n=t.selection.setForWith(n,e.asList2D()),n}class ut extends O{constructor(e){const t=e.selection.getFrom(e.parent.asList2D);super([[t.length,t[0].length]]),(0,S.Z)(this,"parent",void 0),this.parent=e}getRelative(){return"size of "+this.parent.getDescription()}}class mt extends O{constructor(e,t){const n=t.asList2D();super(e.asList2D().concat(n)),(0,S.Z)(this,"parentLeft",void 0),(0,S.Z)(this,"parentRight",void 0),this.parentLeft=e,this.parentRight=t}getRelative(){return"rows of "+this.parentRight.getDescription()+" appeneded to "+this.parentLeft.getDescription()}}class pt extends O{constructor(e,t){const n=t.asList2D();super(e.asList2D().map(((e,t)=>e.concat(n[t])))),(0,S.Z)(this,"parentLeft",void 0),(0,S.Z)(this,"parentRight",void 0),this.parentLeft=e,this.parentRight=t}getRelative(){return"columns of "+this.parentRight.getDescription()+" appeneded to "+this.parentLeft.getDescription()}}class ht extends O{constructor(e){const t=ft(e);console.log(t),super(t),(0,S.Z)(this,"parent",void 0),this.parent=e}getRelative(){return"minimized variables by objective function "+this.parent.getDescription()}}function ft(e){const t=e.selection.getDescription();return C.globals.set("x",e.parent.toString()),C.runPython("mx = numpy.matrix(x) \nresult = [minimize_lp(mx"+t+").tolist()]"),C.globals.get("result").toJs()}class wt{constructor(){(0,S.Z)(this,"top",void 0),(0,S.Z)(this,"rest",void 0),this.top=[new xt,new yt,new kt,new bt,new St],this.rest=[new Dt,new Ot]}all(){return this.rest.concat(this.top)}}class gt{constructor(){(0,S.Z)(this,"top",void 0),(0,S.Z)(this,"rest",void 0),this.top=[new Wt,new _t,new Ct,new At],this.rest=[new Mt,new Ut]}all(){return this.rest.concat(this.top)}}class vt{constructor(){(0,S.Z)(this,"top",void 0),(0,S.Z)(this,"rest",void 0),this.top=[new Vt,new $t],this.rest=[]}all(){return this.rest.concat(this.top)}}class xt{name(){return"Add"}desription(){return"Adds two matrices/selections of compatible size."}arguments(){return{selections:2,replaceInParent:!0,mutateSelf:!0,appendagesOn:!0}}symbol(){return{type:1,value:"+"}}execute(e,t=!1,n=[]){return[new Ge(e.list[0],e.list[1],t,n)]}}class yt{name(){return"Subtract"}desription(){return"Subtracts two matrices/selections of compatible size."}arguments(){return{selections:2,replaceInParent:!0,mutateSelf:!0,appendagesOn:!0}}symbol(){return{type:1,value:"-"}}execute(e,t=!1,n=[]){return[new Je(e.list[0],e.list[1],t,n)]}}class kt{name(){return"Multiply"}desription(){return"Multiplies two matrices/selections of compatible size."}arguments(){return{selections:2,replaceInParent:!1,mutateSelf:!1,appendagesOn:!0}}symbol(){return{type:1,value:"*"}}execute(e,t=!1,n=[]){return[new Qe(e.list[0],e.list[1],n)]}}class bt{name(){return"Transpose"}desription(){return"Transposes matrix or selection."}arguments(){return{selections:1,replaceInParent:!1,mutateSelf:!0,appendagesOn:!0}}symbol(){return{type:2,value:"^T"}}execute(e,t=!1,n=[]){return[new tt(e.list[0],n)]}}class St{name(){return"Inverse"}desription(){return"Inverses square matrix or selection."}arguments(){return{selections:1,replaceInParent:!1,mutateSelf:!0,appendagesOn:!0}}symbol(){return{type:2,value:"^-1"}}execute(e,t=!1,n=[]){return[new at(e.list[0],n)]}}class Dt{name(){return"Element-Wise Product"}desription(){return"Multiplies element-wise two matrices/selections of compatible size."}arguments(){return{selections:2,replaceInParent:!0,mutateSelf:!0,appendagesOn:!0}}symbol(){return{type:1,value:".*"}}execute(e,t=!1,n=[]){return[new st(e.list[0],e.list[1],t,n)]}}class Wt{name(){return"Replace"}desription(){return"Replaces selection from first argument with selection from second argument. Returns whole parent of first selection with replacement."}arguments(){return{selections:2,replaceInParent:!1,mutateSelf:!0,appendagesOn:!1}}symbol(){return{type:0,value:"replace"}}execute(e,t=!1,n=[]){return[new it(e.list[0],e.list[1])]}}class _t{name(){return"Swap"}desription(){return"Swaps places of selections from first and second argument."}arguments(){return{selections:2,replaceInParent:!1,mutateSelf:!0,appendagesOn:!1}}symbol(){return{type:0,value:"swap"}}execute(e,t=!1,n=[]){return e.list[0].parent.id!==e.list[1].parent.id?[new it(e.list[0],e.list[1]),new it(e.list[1],e.list[0])]:[new ct(e.list[0],e.list[1])]}}class Ct{name(){return"Size"}desription(){return"Returns 1-by-2 matrix where left element equals to amount of rows in selection/matrix, and right element is equal to amount of columns."}arguments(){return{selections:1,replaceInParent:!1,mutateSelf:!1,appendagesOn:!1}}symbol(){return{type:0,value:"size of"}}execute(e,t=!1,n=[]){return[new ut(e.list[0])]}}class At{name(){return"Select"}desription(){return"Takes any amount of selections as arguments, as long as they all are from the same matrix, and returns new matrix made out of these selections."}arguments(){return{selections:-1,replaceInParent:!1,mutateSelf:!0,appendagesOn:!1}}symbol(){return{type:0,value:"select"}}execute(e,t=!1,n=[]){return[new Be(e.list)]}}class Mt{name(){return"Append Rows"}desription(){return"Appends sideways two matrices/selections of same row amount."}arguments(){return{selections:2,replaceInParent:!1,mutateSelf:!0,appendagesOn:!1}}symbol(){return{type:0,value:"append rows"}}execute(e,t=!1,n=[]){return[new mt(e.list[0],e.list[1])]}}class Ut{name(){return"Append Columns"}desription(){return"Appends vertically two matrices/selections of same columns amount."}arguments(){return{selections:2,replaceInParent:!1,mutateSelf:!0,appendagesOn:!1}}symbol(){return{type:0,value:"append columns"}}execute(e,t=!1,n=[]){return[new pt(e.list[0],e.list[1])]}}class Vt{name(){return"Plot"}desription(){return"Plots matrix/selection."}arguments(){return{selections:1,replaceInParent:!1,mutateSelf:!1,appendagesOn:!1}}symbol(){return{type:0,value:"plot"}}execute(e,t=!1,n=[]){return[new $(e.list[0])]}}class $t{name(){return"Export"}desription(){return"Allows to export matrix or selection in downloadable formats."}arguments(){return{selections:1,replaceInParent:!1,mutateSelf:!1,appendagesOn:!1}}symbol(){return{type:0,value:"export"}}execute(e,t=!1,n=[]){return[]}}class Ot{name(){return"Linear Programming: Minimize"}desription(){return"Takes matrix as if it is a simplex table, and finds minimum of a objective function. Objective function - is a first row of the matrix, constraint coefficients - first column of matrix. Solver treats constrains as if they are equalities."}arguments(){return{selections:1,replaceInParent:!1,mutateSelf:!1,appendagesOn:!1}}symbol(){return{type:0,value:"minimize "}}execute(e,t=!1,n=[]){return[new ht(e.list[0])]}}const Lt={math:new wt,code:new gt,other:new vt};function Zt(e){const t=Lt.math.all().concat(Lt.code.all()).concat(Lt.other.all());return t.find((t=>t.name()===e))}const Pt=e=>((0,o.dD)("data-v-47fc282e"),e=e(),(0,o.Cn)(),e),Rt={class:"d-flex flex-row"},It={key:0,class:"d-flex flex-row ml-3"},Ft=Pt((()=>(0,o._)("span",null,"If checked, first argument will be replaced inside of its parent with result of this function. ",-1))),Nt={key:1,class:"subtext my-1 mx-3"},Et={key:2},qt={class:"mr-2"},jt={key:3,class:"mx-5"},zt={key:0},Tt=Pt((()=>(0,o._)("span",{class:"subtext"},"(",-1))),Bt={key:0},Ht={key:1,class:"text-none text-subtitle-1"},Yt=Pt((()=>(0,o._)("span",{class:"subtext"},")",-1))),Gt=Pt((()=>(0,o._)("span",{class:"subtext"},"(",-1))),Xt={key:0},Jt={key:1,class:"text-none text-subtitle-1"},Kt=Pt((()=>(0,o._)("span",{class:"subtext"},")",-1))),Qt={key:1},en={key:0},tn=Pt((()=>(0,o._)("span",{class:"subtext"},"(",-1))),nn={key:0},an={key:1,class:"text-none text-subtitle-1"},on=["onUpdate:modelValue"],sn={key:0},rn=Pt((()=>(0,o._)("span",{class:"subtext"},")",-1))),ln={key:1};function cn(e,t,n,s,r,i){const l=(0,o.up)("v-card-title"),c=(0,o.up)("v-btn"),d=(0,o.up)("v-tooltip"),u=(0,o.up)("v-checkbox"),m=(0,o.up)("v-card-actions"),p=(0,o.up)("v-sheet"),h=(0,o.up)("ExportMatrix"),f=(0,o.up)("v-dialog");return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o.Wm)(p,{variant:"tonal",class:"my-2 ma-sheet"},{default:(0,o.w5)((()=>[(0,o._)("div",Rt,[(0,o.Wm)(l,null,{default:(0,o.w5)((()=>[(0,o.Uk)((0,se.zw)(n.matrixMethod.name()),1)])),_:1}),(0,o.Wm)(d,{location:"bottom"},{activator:(0,o.w5)((({props:e})=>[(0,o.Wm)(c,(0,o.dG)(e,{size:"small",variant:"outlined",class:"align-self-center ma-3 ml-auto"}),{default:(0,o.w5)((()=>[(0,o.Uk)("Description ⓘ")])),_:2},1040)])),default:(0,o.w5)((()=>[(0,o.Uk)(" "+(0,se.zw)(n.matrixMethod.desription()),1)])),_:1})]),n.matrixMethod.arguments().replaceInParent?((0,o.wg)(),(0,o.iD)("div",It,[(0,o.Wm)(u,(0,o.dG)({modelValue:r.replaceInParent,"onUpdate:modelValue":t[0]||(t[0]=e=>r.replaceInParent=e),onMouseover:t[1]||(t[1]=e=>r.inParentTooltip=!0),onMouseout:t[2]||(t[2]=e=>r.inParentTooltip=!1),label:"In parent"},(0,o.mx)(e.on)),{default:(0,o.w5)((()=>[(0,o.Wm)(d,{activator:"parent",location:"top"},{default:(0,o.w5)((()=>[Ft])),_:1})])),_:1},16,["modelValue"])])):(0,o.kq)("",!0),n.matrixMethod.arguments().appendagesOn?((0,o.wg)(),(0,o.iD)("div",Nt,"you can write coefficients in white boxes")):(0,o.kq)("",!0),-1===n.matrixMethod.arguments().selections?((0,o.wg)(),(0,o.iD)("div",Et,[(0,o._)("div",qt," Selections: "+(0,se.zw)(n.workspace.list.length),1)])):(0,o.kq)("",!0),n.matrixMethod.arguments().selections>=0?((0,o.wg)(),(0,o.iD)("div",jt,[2===n.matrixMethod.arguments().selections&&1===n.matrixMethod.symbol().type?((0,o.wg)(),(0,o.iD)("span",zt,[Tt,(0,o._)("button",{size:"small",variant:"tonal",class:"ma-1",onClick:t[4]||(t[4]=e=>i.selectionExplanationMessage()),style:{"background-color":"#ccc","border-radius":"4px",padding:"5px 10px 5px 10px"}},[0>=n.workspace.list.length?((0,o.wg)(),(0,o.iD)("div",Bt," Select... ")):(0,o.kq)("",!0),0<n.workspace.list.length?((0,o.wg)(),(0,o.iD)("div",Ht,[n.matrixMethod.arguments().appendagesOn?(0,o.wy)(((0,o.wg)(),(0,o.iD)("input",{key:0,style:{width:"40px","background-color":"white","border-radius":"4px","padding-left":"4px"},class:"ma-1","onUpdate:modelValue":t[3]||(t[3]=e=>r.model[0]=e)},null,512)),[[a.nr,r.model[0]]]):(0,o.kq)("",!0),(0,o.Uk)((0,se.zw)(n.workspace.list[0].getDescription()),1)])):(0,o.kq)("",!0)]),Yt,(0,o.Uk)(" "+(0,se.zw)(n.matrixMethod.symbol().value)+" ",1),Gt,(0,o._)("button",{size:"small",variant:"tonal",class:"ma-1",onClick:t[6]||(t[6]=e=>i.selectionExplanationMessage()),style:{"background-color":"#ccc","border-radius":"4px",padding:"5px 10px 5px 10px"}},[1>=n.workspace.list.length?((0,o.wg)(),(0,o.iD)("div",Xt," Select... ")):(0,o.kq)("",!0),1<n.workspace.list.length?((0,o.wg)(),(0,o.iD)("div",Jt,[n.matrixMethod.arguments().appendagesOn?(0,o.wy)(((0,o.wg)(),(0,o.iD)("input",{key:0,style:{width:"40px","background-color":"white","border-radius":"4px","padding-left":"4px"},class:"ma-1","onUpdate:modelValue":t[5]||(t[5]=e=>r.model[1]=e)},null,512)),[[a.nr,r.model[1]]]):(0,o.kq)("",!0),(0,o.Uk)((0,se.zw)(n.workspace.list[1].getDescription()),1)])):(0,o.kq)("",!0)]),Kt])):(0,o.kq)("",!0),1!==n.matrixMethod.symbol().type?((0,o.wg)(),(0,o.iD)("span",Qt,[0===n.matrixMethod.symbol().type?((0,o.wg)(),(0,o.iD)("span",en,(0,se.zw)(n.matrixMethod.symbol().value),1)):(0,o.kq)("",!0),tn,((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(n.matrixMethod.arguments().selections,(e=>((0,o.wg)(),(0,o.iD)("span",{key:e},[(0,o._)("button",{size:"small",variant:"tonal",class:"ma-1",onClick:t[7]||(t[7]=e=>i.selectionExplanationMessage()),style:{"background-color":"#ccc","border-radius":"4px",padding:"5px 10px 5px 10px"}},[e>n.workspace.list.length?((0,o.wg)(),(0,o.iD)("div",nn," Select... ")):(0,o.kq)("",!0),e<=n.workspace.list.length?((0,o.wg)(),(0,o.iD)("div",an,[n.matrixMethod.arguments().appendagesOn?(0,o.wy)(((0,o.wg)(),(0,o.iD)("input",{key:0,style:{width:"40px","background-color":"white","border-radius":"4px","padding-left":"4px"},class:"ma-1","onUpdate:modelValue":t=>r.model[e-1]=t},null,8,on)),[[a.nr,r.model[e-1]]]):(0,o.kq)("",!0),(0,o.Uk)((0,se.zw)(n.workspace.list[e-1].getDescription()),1)])):(0,o.kq)("",!0)]),e<n.matrixMethod.arguments().selections?((0,o.wg)(),(0,o.iD)("span",sn,", ")):(0,o.kq)("",!0)])))),128)),rn,2===n.matrixMethod.symbol().type?((0,o.wg)(),(0,o.iD)("span",ln,(0,se.zw)(n.matrixMethod.symbol().value),1)):(0,o.kq)("",!0)])):(0,o.kq)("",!0)])):(0,o.kq)("",!0),(0,o.Wm)(m,null,{default:(0,o.w5)((()=>[(0,o.Wm)(c,{density:"compact",onClick:i.onApplyClick},{default:(0,o.w5)((()=>[(0,o.Uk)("Apply")])),_:1},8,["onClick"])])),_:1})])),_:1}),(0,o.Wm)(f,{modelValue:r.exportMatrixDialog,"onUpdate:modelValue":t[8]||(t[8]=e=>r.exportMatrixDialog=e),width:"auto"},{default:(0,o.w5)((()=>[(0,o.Wm)(h,{onCloseDialog:i.onCloseDialog,matrix:i.selectFormatted()},null,8,["onCloseDialog","matrix"])])),_:1},8,["modelValue"])],64)}const dn=e=>((0,o.dD)("data-v-5f2fcda7"),e=e(),(0,o.Cn)(),e),un={class:"roboto-mono"},mn=dn((()=>(0,o._)("pre",{class:"roboto-mono"},"Preview unavailable.\n                            ",-1))),pn={class:"roboto-mono"};function hn(e,t,n,a,s,r){const i=(0,o.up)("v-card-text"),l=(0,o.up)("v-tab"),c=(0,o.up)("v-tabs"),d=(0,o.up)("v-card"),u=(0,o.up)("v-window-item"),m=(0,o.up)("v-window"),p=(0,o.up)("v-btn"),h=(0,o.up)("v-card-actions");return(0,o.wg)(),(0,o.j4)(d,null,{default:(0,o.w5)((()=>[(0,o.Wm)(i,null,{default:(0,o.w5)((()=>[(0,o.Uk)("You can export in three different formats")])),_:1}),(0,o.Wm)(c,{modelValue:e.tab,"onUpdate:modelValue":t[0]||(t[0]=t=>e.tab=t),"bg-color":"primary"},{default:(0,o.w5)((()=>[(0,o.Wm)(l,{value:".CSV"},{default:(0,o.w5)((()=>[(0,o.Uk)(".CSV")])),_:1}),(0,o.Wm)(l,{value:".XLSX"},{default:(0,o.w5)((()=>[(0,o.Uk)(".XLSX")])),_:1}),(0,o.Wm)(l,{value:".LaTeX"},{default:(0,o.w5)((()=>[(0,o.Uk)(".LaTeX")])),_:1})])),_:1},8,["modelValue"]),(0,o.Wm)(i,null,{default:(0,o.w5)((()=>[(0,o.Wm)(m,{modelValue:e.tab,"onUpdate:modelValue":t[1]||(t[1]=t=>e.tab=t)},{default:(0,o.w5)((()=>[(0,o.Wm)(u,{value:".CSV"},{default:(0,o.w5)((()=>[(0,o.Wm)(d,{variant:"outlined"},{default:(0,o.w5)((()=>[(0,o.Wm)(i,{class:"data-display"},{default:(0,o.w5)((()=>[(0,o._)("pre",un,(0,se.zw)(r.nestedArrayToCSV(n.matrix))+"\n                            ",1)])),_:1})])),_:1})])),_:1}),(0,o.Wm)(u,{value:".XLSX"},{default:(0,o.w5)((()=>[(0,o.Wm)(d,{variant:"outlined"},{default:(0,o.w5)((()=>[(0,o.Wm)(i,{class:"data-display"},{default:(0,o.w5)((()=>[mn])),_:1})])),_:1})])),_:1}),(0,o.Wm)(u,{value:".LaTeX"},{default:(0,o.w5)((()=>[(0,o.Wm)(d,{variant:"outlined"},{default:(0,o.w5)((()=>[(0,o.Wm)(i,{class:"data-display"},{default:(0,o.w5)((()=>[(0,o._)("pre",pn,(0,se.zw)(r.nestedArrayToLaTex(n.matrix))+"\n                            ",1)])),_:1})])),_:1})])),_:1})])),_:1},8,["modelValue"])])),_:1}),(0,o.Wm)(h,{class:"buttons"},{default:(0,o.w5)((()=>[(0,o.Wm)(p,{class:"btn cancel",onClick:r.closeDialog},{default:(0,o.w5)((()=>[(0,o.Uk)("Close")])),_:1},8,["onClick"]),(0,o.Wm)(p,{onClick:t[2]||(t[2]=e=>r.exportInChosen(n.matrix))},{default:(0,o.w5)((()=>[(0,o.Uk)("Download")])),_:1})])),_:1})])),_:1})}var fn={name:"ExportMatrix",components:{},props:{matrix:{type:Array,require:!0}},data:()=>({tab:null}),methods:{exportInChosen(e){".CSV"===this.tab?J(e):".XLSX"===this.tab?K(e):".LaTeX"===this.tab?ee(e):(console.log("Error in ExportMatrix.ts: chosen tab is not in the list."),J(e))},closeDialog(){this.$emit("closeDialog")},exportExcel(e){return K(e)},exportToCSV(e){return J(e)},exportToLaTeX(e){return ee(e)},nestedArrayToCSV(e){return X(e)},nestedArrayToLaTex(e){return Q(e)}},emits:["closeDialog"]};const wn=(0,r.Z)(fn,[["render",hn],["__scopeId","data-v-5f2fcda7"]]);var gn=wn,vn={name:"MethodArguments",components:{ExportMatrix:gn},props:{matrixMethod:{required:!0},workspace:{type:De,required:!0}},data(){return{model:[null,null,null,null],replaceInParent:!1,exportMatrixDialog:!1,inParentTooltip:!1}},methods:{onApplyClick(){try{"Export"===this.matrixMethod.name()?this.$data.exportMatrixDialog=!0:(this.matrixMethod.execute(this.workspace,this.$data.replaceInParent,this.$data.model).forEach((e=>{this.$emit("statementAdded",e)})),this.$emit("clearWorkspace"))}catch(e){this.$store.commit("setOpenSnackBar",{title:"Operation is impossible",moreInfo:e.message,kind:"Error"})}},selectFormatted(){const e=new U(this.workspace.list[0].asList2D());return P(this.$store.state.formatStyle,e)},onCloseDialog(){this.$data.exportMatrixDialog=!1,this.$emit("clearWorkspace")},selectionExplanationMessage(){this.$store.commit("setOpenSnackBar",{title:"To add selection to the argument, press on any matrix cell, round buttons to select row or column, or square button to select whole matrix.",moreInfo:"Just do it.",kind:"Explanation"})}},emits:["statementAdded","clearWorkspace"]};const xn=(0,r.Z)(vn,[["render",cn],["__scopeId","data-v-47fc282e"]]);var yn=xn,kn={data:()=>({tab:null,chosenMethod:void 0}),props:{workspace:{type:De,required:!0}},components:{MatrixMethodsButtons:Te,MethodArguments:yn},methods:{mathMethodGroupConstruct(){return Lt.math},codeMethodGroupConstruct(){return Lt.code},otherMethodGroupConstruct(){return Lt.other},onMethodChosen(e){this.chosenMethod=Zt(e)},onClearWorkspace(){this.$emit("clearWorkspace")},onStatementAdded(e){this.$emit("statementAdded",e)}},emits:["clearWorkspace","statementAdded"]};const bn=(0,r.Z)(kn,[["render",Fe],["__scopeId","data-v-309db9d5"]]);var Sn=bn,Dn={data:()=>({matrixNameModel:"unknown"}),components:{MatrixViewer:Ie,MatrixMethodsTabs:Sn},props:{matrix:{type:O,required:!0},workspace:{type:De,required:!0},workspaceVersion:{required:!0}},methods:{onWorkspacePush(e){this.$emit("workspacePush",e)},onClearWorkspace(){this.$emit("clearWorkspace")},onDeleteFromWorkspacebyStId(){this.$emit("deleteFromWorkspace",this.$props.matrix.id)},onStatementAdded(e){this.$emit("statementAdded",e)},onDeleteStatement(e){this.$emit("deleteStatement",e)},onStatementNameUpdate(){const e=this.$data.matrixNameModel;this.$props.matrix.changeNameUnsafe(e),this.$emit("statementUpdated",this.$props.matrix)}},computed:{nameModelStyle(){return()=>({width:.7*this.$data.matrixNameModel.length+"rem"})}},mounted(){this.$data.matrixNameModel=this.$props.matrix.name},emits:["workspacePush","clearWorkspace","statementAdded","deleteStatement","statementUpdated","deleteFromWorkspace"]};const Wn=(0,r.Z)(Dn,[["render",xe],["__scopeId","data-v-afff2df2"]]);var _n=Wn;const Cn={key:0,class:"text-center ma-2"};function An(e,t,n,a,s,r){const i=(0,o.up)("v-btn"),l=(0,o.up)("v-snackbar"),c=(0,o.up)("v-card-text"),d=(0,o.up)("v-card-actions"),u=(0,o.up)("v-card"),m=(0,o.up)("v-dialog");return(0,o.wg)(),(0,o.iD)(o.HY,null,[r.isActive()?((0,o.wg)(),(0,o.iD)("div",Cn,[(0,o.Wm)(l,{modelValue:this.$store.state.snackbar.isOpen,"onUpdate:modelValue":t[1]||(t[1]=e=>this.$store.state.snackbar.isOpen=e),"multi-line":"",timeout:6e3},{actions:(0,o.w5)((()=>[(0,o.Wm)(i,{onClick:t[0]||(t[0]=e=>s.moreInfoVisible=!0),size:"small",variant:"outlined",class:"align-self-center ma-3 ml-auto"},{default:(0,o.w5)((()=>[(0,o.Uk)("Description ⓘ")])),_:1}),(0,o.Wm)(i,{color:"pink",variant:"text",onClick:r.closeSnackbar},{default:(0,o.w5)((()=>[(0,o.Uk)(" Close ")])),_:1},8,["onClick"])])),default:(0,o.w5)((()=>[(0,o.Uk)((0,se.zw)(s.title)+" ",1)])),_:1},8,["modelValue"])])):(0,o.kq)("",!0),(0,o.Wm)(m,{modelValue:s.moreInfoVisible,"onUpdate:modelValue":t[3]||(t[3]=e=>s.moreInfoVisible=e),width:"auto"},{default:(0,o.w5)((()=>[(0,o.Wm)(u,null,{default:(0,o.w5)((()=>[(0,o.Wm)(c,null,{default:(0,o.w5)((()=>[(0,o.Uk)((0,se.zw)(s.moreInfo),1)])),_:1}),(0,o.Wm)(d,null,{default:(0,o.w5)((()=>[(0,o.Wm)(i,{class:"apply-button",onClick:t[2]||(t[2]=e=>s.moreInfoVisible=!1)},{default:(0,o.w5)((()=>[(0,o.Uk)("Close")])),_:1})])),_:1})])),_:1})])),_:1},8,["modelValue"])],64)}var Mn={name:"UniversalSnackbarComponent",components:{},props:{},data(){return{title:"",moreInfo:"",kind:"",moreInfoVisible:!1}},methods:{closeSnackbar(){this.$store.commit("setCloseSnackBar")}},computed:{isActive(){return()=>{const e=this.$store.state.snackbar;return console.log(this.$store.state.snackbar),!!e.isOpen&&(this.title=e.title,this.moreInfo=e.moreInfo,this.kind=e.kind,!0)}}}};const Un=(0,r.Z)(Mn,[["render",An]]);var Vn=Un;const $n={class:"align-self-center my-auto mx-3"},On={ref:"chart",style:{height:"300%",width:"90%"},class:"ma-4"};function Ln(e,t,n,a,s,r){const i=(0,o.up)("v-btn"),l=(0,o.up)("v-sheet");return(0,o.wg)(),(0,o.j4)(l,{variant:"tonal",class:"d-flex flex-row ma-1 sc2-sheet"},{default:(0,o.w5)((()=>[(0,o.Wm)(i,{icon:"✖",variant:"tonal",class:"align-self-center ma-3",onClick:t[0]||(t[0]=e=>r.onDeleteStatement(n.plotC.id))},{default:(0,o.w5)((()=>[(0,o.Uk)(" ✖ ")])),_:1}),(0,o._)("div",$n," plot for "+(0,se.zw)(n.plotC.parent.getDescription()),1),(0,o._)("div",On,null,512)])),_:1})}var Zn=n(5041),Pn={data(){return{}},components:{},props:{plotC:{required:!0}},methods:{onDeleteStatement(e){console.log(e),this.$emit("deleteStatement",e)}},computed:{},mounted(){const e=Zn.S1(this.$refs.chart),t={legend:{},tooltip:{trigger:"axis"},xAxis:{type:"value",axisLabel:{formatter:"{value}"}},yAxis:{type:"value",axisLabel:{formatter:"{value}"}},dataZoom:[{type:"inside",start:0,end:100,filterMode:"filter"},{type:"slider",start:0,end:100,filterMode:"filter"},{type:"slider",yAxisIndex:[0],filterMode:"filter"}],series:[]},n=this.$props.plotC.parent.asList2D();console.log(n);for(let a=0;a<n.length;a++){const e=[],o=e=>{let t=0;for(let o=0;o<n[a].length;o++){const s=n[a][o];t+=s*Math.pow(e,n[a].length-o-1)}return t};let s="";for(let t=0;t<n[a].length;t++){const e=n[a][t];t<n[a].length-1?s+=e+"x^"+(n[a].length-t-1).toString()+" + ":s+=e}for(let t=-30;t<=30;t+=.1)e.push([t,o(t)]);t.series.push({name:s,type:"line",data:e,showSymbol:!1,lineStyle:{width:2}})}e.setOption(t)},emits:["deleteStatement"]};const Rn=(0,r.Z)(Pn,[["render",Ln],["__scopeId","data-v-06916aa8"]]);var In=Rn,Fn={name:"CalculatorView",components:{ControlsBarComponent:ge,StatementComponent2:_n,UniversalSnackBarComponentVue:Vn,AddDataWindow:he,PlotComponent:In},data(){return{statements:[],workspace:new De,workspaceVersion:0,dialog:!1}},computed:{getStatements(){return this.$data.statements},getWorkspace(){return this.$data.workspace},hasPyodideLoaded(){return A.hasLoaded}},methods:{pushStatement(e){this.$data.statements.push(e)},onPushWorkspace(e){this.workspace.list.push(e),this.workspaceVersion++},onClearWorkspace(){this.workspace.list=[],this.workspaceVersion++},onDeleteStatement(e){this.$data.statements=this.$data.statements.filter((t=>t.id!==e))},onStatementUpdated(e){this.$data.statements[this.$data.statements.findIndex((t=>t.id===e.id))]=e},onDeleteFromWorkspace(e){this.$data.workspace.list=this.$data.workspace.list.filter((t=>t.parent.id!==e)),this.workspaceVersion++}}};const Nn=(0,r.Z)(Fn,[["render",w]]);var En=Nn;const qn=[{path:"/",name:"calculatorview",component:En},{path:"/about",name:"about",component:()=>n.e(443).then(n.bind(n,5494))},{path:"/style_guide.html",name:"style_guide.html",component:()=>n.e(443).then(n.bind(n,8802))},{path:"/styleguide",name:"styleguide",component:()=>n.e(443).then(n.bind(n,8802))},{path:"/datavisualisation",name:"datavisualisation",component:()=>n.e(605).then(n.bind(n,4605))}],jn=(0,d.p7)({history:(0,d.PO)("/~royako/iti0209/vicalial-vue/dist/"),routes:qn});var zn=jn,Tn=n(65),Bn=(0,Tn.MT)({state:{isOpenAddDataWindow:!1,lastObjectID:0,formatStyle:1,snackbar:{isOpen:!1,title:"",moreInfo:"",kind:""}},getters:{},mutations:{setOpenDataWindow(e,t){e.isOpenAddDataWindow=t},incrementLastObjectId(e){e.lastObjectID++},setOpenSnackBar(e,{title:t,moreInfo:n,kind:a}){e.snackbar={isOpen:!0,title:t,moreInfo:n,kind:a}},setCloseSnackBar(e){e.snackbar.isOpen=!1}},actions:{},modules:{}}),Hn=(n(9773),n(8957)),Yn=n(1850),Gn=n(8600),Xn=n(3504);const Jn=(0,Hn.Rd)({components:Yn,directives:Gn,icons:{defaultSet:"mdi",aliases:Xn.j,sets:{mdi:Xn.t}}}),Kn=a.ri(c).use(zn).use(Jn).use(Bn);Kn.mount("#app")}},t={};function n(a){var o=t[a];if(void 0!==o)return o.exports;var s=t[a]={exports:{}};return e[a].call(s.exports,s,s.exports,n),s.exports}n.m=e,function(){var e=[];n.O=function(t,a,o,s){if(!a){var r=1/0;for(d=0;d<e.length;d++){a=e[d][0],o=e[d][1],s=e[d][2];for(var i=!0,l=0;l<a.length;l++)(!1&s||r>=s)&&Object.keys(n.O).every((function(e){return n.O[e](a[l])}))?a.splice(l--,1):(i=!1,s<r&&(r=s));if(i){e.splice(d--,1);var c=o();void 0!==c&&(t=c)}}return t}s=s||0;for(var d=e.length;d>0&&e[d-1][2]>s;d--)e[d]=e[d-1];e[d]=[a,o,s]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};n.t=function(a,o){if(1&o&&(a=this(a)),8&o)return a;if("object"===typeof a&&a){if(4&o&&a.__esModule)return a;if(16&o&&"function"===typeof a.then)return a}var s=Object.create(null);n.r(s);var r={};e=e||[null,t({}),t([]),t(t)];for(var i=2&o&&a;"object"==typeof i&&!~e.indexOf(i);i=t(i))Object.getOwnPropertyNames(i).forEach((function(e){r[e]=function(){return a[e]}}));return r["default"]=function(){return a},n.d(s,r),s}}(),function(){n.d=function(e,t){for(var a in t)n.o(t,a)&&!n.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}}(),function(){n.f={},n.e=function(e){return Promise.all(Object.keys(n.f).reduce((function(t,a){return n.f[a](e,t),t}),[]))}}(),function(){n.u=function(e){return"js/"+(443===e?"about":e)+"."+{443:"ee3a0c33",605:"736ed84e"}[e]+".js"}}(),function(){n.miniCssF=function(e){return"css/"+(443===e?"about":e)+"."+{443:"aebcb56b",605:"e6290638"}[e]+".css"}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={},t="vicalial-vue:";n.l=function(a,o,s,r){if(e[a])e[a].push(o);else{var i,l;if(void 0!==s)for(var c=document.getElementsByTagName("script"),d=0;d<c.length;d++){var u=c[d];if(u.getAttribute("src")==a||u.getAttribute("data-webpack")==t+s){i=u;break}}i||(l=!0,i=document.createElement("script"),i.charset="utf-8",i.timeout=120,n.nc&&i.setAttribute("nonce",n.nc),i.setAttribute("data-webpack",t+s),i.src=a),e[a]=[o];var m=function(t,n){i.onerror=i.onload=null,clearTimeout(p);var o=e[a];if(delete e[a],i.parentNode&&i.parentNode.removeChild(i),o&&o.forEach((function(e){return e(n)})),t)return t(n)},p=setTimeout(m.bind(null,void 0,{type:"timeout",target:i}),12e4);i.onerror=m.bind(null,i.onerror),i.onload=m.bind(null,i.onload),l&&document.head.appendChild(i)}}}(),function(){n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){n.p="/~royako/iti0209/vicalial-vue/dist/"}(),function(){if("undefined"!==typeof document){var e=function(e,t,n,a,o){var s=document.createElement("link");s.rel="stylesheet",s.type="text/css";var r=function(n){if(s.onerror=s.onload=null,"load"===n.type)a();else{var r=n&&("load"===n.type?"missing":n.type),i=n&&n.target&&n.target.href||t,l=new Error("Loading CSS chunk "+e+" failed.\n("+i+")");l.code="CSS_CHUNK_LOAD_FAILED",l.type=r,l.request=i,s.parentNode&&s.parentNode.removeChild(s),o(l)}};return s.onerror=s.onload=r,s.href=t,n?n.parentNode.insertBefore(s,n.nextSibling):document.head.appendChild(s),s},t=function(e,t){for(var n=document.getElementsByTagName("link"),a=0;a<n.length;a++){var o=n[a],s=o.getAttribute("data-href")||o.getAttribute("href");if("stylesheet"===o.rel&&(s===e||s===t))return o}var r=document.getElementsByTagName("style");for(a=0;a<r.length;a++){o=r[a],s=o.getAttribute("data-href");if(s===e||s===t)return o}},a=function(a){return new Promise((function(o,s){var r=n.miniCssF(a),i=n.p+r;if(t(r,i))return o();e(a,i,null,o,s)}))},o={143:0};n.f.miniCss=function(e,t){var n={443:1,605:1};o[e]?t.push(o[e]):0!==o[e]&&n[e]&&t.push(o[e]=a(e).then((function(){o[e]=0}),(function(t){throw delete o[e],t})))}}}(),function(){var e={143:0};n.f.j=function(t,a){var o=n.o(e,t)?e[t]:void 0;if(0!==o)if(o)a.push(o[2]);else{var s=new Promise((function(n,a){o=e[t]=[n,a]}));a.push(o[2]=s);var r=n.p+n.u(t),i=new Error,l=function(a){if(n.o(e,t)&&(o=e[t],0!==o&&(e[t]=void 0),o)){var s=a&&("load"===a.type?"missing":a.type),r=a&&a.target&&a.target.src;i.message="Loading chunk "+t+" failed.\n("+s+": "+r+")",i.name="ChunkLoadError",i.type=s,i.request=r,o[1](i)}};n.l(r,l,"chunk-"+t,t)}},n.O.j=function(t){return 0===e[t]};var t=function(t,a){var o,s,r=a[0],i=a[1],l=a[2],c=0;if(r.some((function(t){return 0!==e[t]}))){for(o in i)n.o(i,o)&&(n.m[o]=i[o]);if(l)var d=l(n)}for(t&&t(a);c<r.length;c++)s=r[c],n.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return n.O(d)},a=self["webpackChunkvicalial_vue"]=self["webpackChunkvicalial_vue"]||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))}();var a=n.O(void 0,[998],(function(){return n(8098)}));a=n.O(a)})();
//# sourceMappingURL=app.9579b920.js.map